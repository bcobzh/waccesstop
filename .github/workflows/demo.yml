name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [push]
jobs:
  meta:
    name: Meta
    permissions:
      contents: 'read'
      id-token: 'write'
      pull-requests: 'write'
    outputs:
      kc_secret: MYSECRET
      kc_app_id: MYAPPID

    runs-on: ubuntu-latest
    steps:
      - name: swo env
        run: |
          env
  deploy:
    name: deploy
    needs: [ "meta" ]
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: show env
        run: |
          ls 
      - name: install
        run: |
          pwd
          ls -l scripts
          ./scripts/toto.sh
          which lftp
          python ./scripts/demo.py
      - name: show remote
        run: |
          echo '${{Â toJSON(needs.meta.outputs) }}'  | jq

